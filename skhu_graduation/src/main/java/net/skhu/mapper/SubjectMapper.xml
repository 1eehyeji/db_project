<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="net.skhu.mapper.SubjectMapper">

	<insert id="insert" parameterType="java.util.List">
		INSERT into subject(year, semester, code, divisionClass, departmentId,
			subjectName, completionDivision, credit) 
		VALUES 
		<foreach collection="list" item="subject" separator=" , ">
			('${subject.year}', '${subject.semester}', '${subject.code}',
			 '${subject.divisionClass}', '${subject.departmentId}', '${subject.subjectName}',
			 '${subject.completionDivision}', '${subject.credit}')
		</foreach>
	</insert>
	
	<select id="findDelete" resultType="int">
		select count(*) from subject 
		where code= #{deleteSubject.get(3)} 
		and departmentId=#{deleteSubject.get(0)}
		and year=#{deleteSubject.get(1)}
		and semester=#{deleteSubject.get(2)}
		and subjectName=#{deleteSubject.get(4)} 
	</select>
	
	<select id="findReplace" resultType="int">
		select count(*) from subject 
		where code= #{replaceSubject.get(3)} 
		and departmentId=#{replaceSubject.get(0)}
		and year=#{replaceSubject.get(1)}
		and semester=#{replaceSubject.get(2)}
		and subjectName=#{replaceSubject.get(4)}
	</select>
	
</mapper>